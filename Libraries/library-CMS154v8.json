{
    "resourceType": "Library",
    "id": "library-CMS154v8",
    "meta": {
      "versionId": "1",
      "lastUpdated": "2019-08-16T23:03:04.792+00:00",
      "profile": [
        "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/library-cqfm"
      ]
    },
    "url": "http://hl7.org/fhir/us/cqfmeasures/Library/library-CMS154v8",
    "identifier": [
      {
        "use": "official",
        "system": "http://example.org/fhir/cqi/ecqm/Library/Identifier",
        "value": "CMS154v8"
      }
    ],
    "version": "8.1.000",
    "name": "AppropriateTreatmentforChildrenwithUpperRespiratoryInfectionURI",
    "title": "Appropriate Treatment for Children with Upper Respiratory Infection URI",
    "status": "active",
    "experimental": true,
    "type": {
      "coding": [
        {
          "system": "http://hl7.org/fhir/library-type",
          "code": "logic-library"
        }
      ] 
    },
    "date": "2019-12-03",
    "publisher": "Health Level 7 International - Clinical Quality Information Work Group",
    "description": "This library is used as an example in the FHIR Quality Measure Implementation Guide",
    "approvalDate": "2019-08-03",
    "lastReviewDate": "2019-08-03",
    "contact": [
      {
        "telecom": [
          {
            "system": "url",
            "value": "http://www.hl7.org/Special/committees/cqi/index.cfm"
          }
        ]
      }
    ],
    "relatedArtifact": [
      {
        "type": "depends-on",
        "resource": "Library/41151"
      },
      {
        "type": "depends-on",
        "resource": "Library/76896"
      }
    ],
    "dataRequirement": [   
      {
        "type": "Encounter",
        "codeFilter": [
          {
            "path": "code",
            "valueSet": "urn:oid:2.16.840.1.113883.3.464.1003.101.12.1024"
          }
        ]
      }, 
      {
        "type": "Encounter",
        "codeFilter": [
          {
            "path": "code",
            "valueSet": "urn:oid:2.16.840.1.113883.3.464.1003.101.12.1001"
          }
        ]
      }, 
      {
        "type": "Encounter",
        "codeFilter": [
          {
            "path": "code",
            "valueSet": "urn:oid:2.16.840.1.113883.3.464.1003.101.12.1010"
          }
        ]
      }, 
      {
        "type": "Encounter",
        "codeFilter": [
          {
            "path": "code",
            "valueSet": "urn:oid:2.16.840.1.113883.3.464.1003.101.12.1022"
          }
        ]
      }, 
      {
        "type": "Encounter",
        "codeFilter": [
          {
            "path": "code",
            "valueSet": "urn:oid:2.16.840.1.113883.3.464.1003.101.12.1002"
          }
        ]
      }, 
      {
        "type": "Condition",
        "codeFilter": [
          {
            "path": "code",
            "valueSet": "urn:oid:2.16.840.1.113883.3.464.1003.102.12.1022"
          }
        ]
      },
      {
        "type": "Condition",
        "codeFilter": [
          {
            "path": "code",
            "valueSet": "urn:oid:2.16.840.1.113883.3.464.1003.102.12.1017"
          }
        ]
      },
      {
        "type": "MedicationRequest",
        "codeFilter": [
          {
            "path": "code",
            "valueSet": "urn:oid:2.16.840.1.113883.3.464.1003.196.12.1001"
          }
        ]
      },
      {
        "type": "MedicationStatement",
        "codeFilter": [
          {
            "path": "code",
            "valueSet": "urn:oid:2.16.840.1.113883.3.464.1003.196.12.1001"
          }
        ]
      },
      {
        "type": "Encounter",
        "codeFilter": [
          {
            "path": "code",
            "valueSet": "urn:oid:2.16.840.1.113883.3.666.5.307"
          }
        ]
      },
      {
        "type": "ServiceRequest",
        "codeFilter": [
          {
            "path": "code",
            "valueSet": "urn:oid:2.16.840.1.113762.1.4.1108.15"
          }
        ]
      },
      {
        "type": "Procedure",
        "codeFilter": [
          {
            "path": "code",
            "valueSet": "urn:oid:2.16.840.1.113762.1.4.1108.15"
          }
        ]
      }

    ],
    "content": [
      {
        "contentType": "text/cql",
        "data": "bGlicmFyeSBBcHByb3ByaWF0ZVRyZWF0bWVudGZvckNoaWxkcmVud2l0aFVwcGVyUmVzcGlyYXRvcnlJbmZlY3Rpb25VUkkgdmVyc2lvbiAnOC4xLjAwMCcKCnVzaW5nIEZISVIgdmVyc2lvbiAnNC4wLjAnCgppbmNsdWRlIEZISVJIZWxwZXJzIHZlcnNpb24gJzQuMC4wJyBjYWxsZWQgRkhJUkhlbHBlcnMKCmNvZGVzeXN0ZW0gIklDRC0xMC1DTSI6ICdodHRwOi8vaGw3Lm9yZy9maGlyL3NpZC9pY2QtMTAtY20nCmNvZGVzeXN0ZW0gIkxPSU5DIjogJ2h0dHA6Ly9sb2luYy5vcmcnCmNvZGVzeXN0ZW0gIkhDUENTIjogJ2h0dHBzOi8vaGNwY3MuY29kZXMvJwpjb2Rlc3lzdGVtICJTTk9NRUQtQ1QiOiAnaHR0cDovL3Nub21lZC5pbmZvL3NjdCcKY29kZXN5c3RlbSAiQ1BUIjogJ2h0dHBzOi8vd3d3LmFhcGMuY29tL3Jlc291cmNlcy9tZWRpY2FsLWNvZGluZy9jcHQuYXNweCcKY29kZXN5c3RlbSAiTlVDQ1BUIjonaHR0cHM6Ly93d3cubmxtLm5paC5nb3YvcmVzZWFyY2gvdW1scy9zb3VyY2VyZWxlYXNlZG9jcy9jdXJyZW50L05VQ0NQVC9zb3VyY2VyZXByZXNlbnRhdGlvbi5odG1sJwoKdmFsdWVzZXQgIkFudGliaW90aWMgTWVkaWNhdGlvbnMgZm9yIFBoYXJ5bmdpdGlzIjogJ3VybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NjQuMTAwMy4xOTYuMTIuMTAwMScKdmFsdWVzZXQgIkNvbXBldGluZyBDb25kaXRpb25zIGZvciBSZXNwaXJhdG9yeSBDb25kaXRpb25zIjogJ3VybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NjQuMTAwMy4xMDIuMTIuMTAxNycKdmFsdWVzZXQgIkVtZXJnZW5jeSBEZXBhcnRtZW50IFZpc2l0IjogJ3VybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NjQuMTAwMy4xMDEuMTIuMTAxMCcKdmFsdWVzZXQgIkV0aG5pY2l0eSI6ICd1cm46b2lkOjIuMTYuODQwLjEuMTE0MjIyLjQuMTEuODM3Jwp2YWx1ZXNldCAiSG9zcGl0YWwgT2JzZXJ2YXRpb24gQ2FyZSAtIEluaXRpYWwiOiAndXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjEwMS4xMi4xMDAyJwp2YWx1ZXNldCAiT2ZmaWNlIFZpc2l0IjogJ3VybjpvaWQ6Mi4xNi44NDAuMS4xMTM4ODMuMy40NjQuMTAwMy4xMDEuMTIuMTAwMScKdmFsdWVzZXQgIk9OQyBBZG1pbmlzdHJhdGl2ZSBTZXgiOiAndXJuOm9pZDoyLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMScKdmFsdWVzZXQgIlBheWVyIjogJ3VybjpvaWQ6Mi4xNi44NDAuMS4xMTQyMjIuNC4xMS4zNTkxJwp2YWx1ZXNldCAiUHJldmVudGl2ZSBDYXJlIFNlcnZpY2VzLCBJbml0aWFsIE9mZmljZSBWaXNpdCwgMCB0byAxNyI6ICd1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDY0LjEwMDMuMTAxLjEyLjEwMjInCnZhbHVlc2V0ICJQcmV2ZW50aXZlIENhcmUsIEVzdGFibGlzaGVkIE9mZmljZSBWaXNpdCwgMCB0byAxNyI6ICd1cm46b2lkOjIuMTYuODQwLjEuMTEzODgzLjMuNDY0LjEwMDMuMTAxLjEyLjEwMjQnCnZhbHVlc2V0ICJSYWNlIjogJ3VybjpvaWQ6Mi4xNi44NDAuMS4xMTQyMjIuNC4xMS44MzYnCnZhbHVlc2V0ICJVcHBlciBSZXNwaXJhdG9yeSBJbmZlY3Rpb24iOiAndXJuOm9pZDoyLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjEwMi4xMi4xMDIyJwp2YWx1ZXNldCAiRW5jb3VudGVyIElucGF0aWVudCI6JzIuMTYuODQwLjEuMTEzODgzLjMuNjY2LjUuMzA3Jwp2YWx1ZXNldCAiSG9zcGljZSBjYXJlIGFtYnVsYXRvcnkiOicyLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTEwOC4xNScKCmNvZGUgIkJpcnRoIGRhdGUiOiAnMjExMTItOCcgZnJvbSAiTE9JTkMiIGRpc3BsYXkgJ0JpcnRoIGRhdGUnCmNvZGUgIkRpc2NoYXJnZSB0byBoZWFsdGhjYXJlIGZhY2lsaXR5IGZvciBob3NwaWNlIGNhcmUgKHByb2NlZHVyZSkiOic0MjgzNzEwMDAxMjQxMDAnIGZyb20gIlNOT01FRC1DVCIgZGlzcGxheSAnRGlzY2hhcmdlIHRvIGhlYWx0aGNhcmUgZmFjaWxpdHkgZm9yIGhvc3BpY2UgY2FyZSAocHJvY2VkdXJlKScKY29kZSAiRGlzY2hhcmdlIHRvIGhvbWUgZm9yIGhvc3BpY2UgY2FyZSAocHJvY2VkdXJlKSI6JzQyODM2MTAwMDEyNDEwNycgZnJvbSAiU05PTUVELUNUIiBkaXNwbGF5ICdEaXNjaGFyZ2UgdG8gaG9tZSBmb3IgaG9zcGljZSBjYXJlIChwcm9jZWR1cmUpJwoKcGFyYW1ldGVyICJNZWFzdXJlbWVudCBQZXJpb2QiIEludGVydmFsPERhdGVUaW1lPgoKY29udGV4dCBQYXRpZW50CgpkZWZpbmUgIkRlbm9taW5hdG9yIjoKCSJJbml0aWFsIFBvcHVsYXRpb24iCgpkZWZpbmUgIlF1YWxpZnlpbmcgRW5jb3VudGVyIjoKCSggW0VuY291bnRlcjogIk9mZmljZSBWaXNpdCJdCgkJdW5pb24gW0VuY291bnRlcjogIkVtZXJnZW5jeSBEZXBhcnRtZW50IFZpc2l0Il0KCQl1bmlvbiBbRW5jb3VudGVyOiAiUHJldmVudGl2ZSBDYXJlIFNlcnZpY2VzLCBJbml0aWFsIE9mZmljZSBWaXNpdCwgMCB0byAxNyJdCgkJdW5pb24gW0VuY291bnRlcjogIlByZXZlbnRpdmUgQ2FyZSwgRXN0YWJsaXNoZWQgT2ZmaWNlIFZpc2l0LCAwIHRvIDE3Il0KCQl1bmlvbiBbRW5jb3VudGVyOiAiSG9zcGl0YWwgT2JzZXJ2YXRpb24gQ2FyZSAtIEluaXRpYWwiXSApIFZhbGlkRW5jb3VudGVyCgkJd2hlcmUgKFZhbGlkRW5jb3VudGVyLnN0YXR1cz0naW4tcHJvZ3Jlc3MnIG9yIFZhbGlkRW5jb3VudGVyLnN0YXR1cz0nZmluaXNoZWQnKQoJCQkJCWFuZCBWYWxpZEVuY291bnRlci5wZXJpb2QgZHVyaW5nICJNZWFzdXJlbWVudCBQZXJpb2QiCgpkZWZpbmUgIkluIEhvc3BpY2UiOgoJIkluaXRpYWwgUG9wdWxhdGlvbiIgSW5pdGlhbFBvcHVsYXRpb24KCQl3aGVyZSAiSGFzIEhvc3BpY2UiCgpkZWZpbmUgIkVuY291bnRlciB3aXRoIFVwcGVyIFJlc3BpcmF0b3J5IEluZmVjdGlvbiI6Cglmcm9tCgkJIlF1YWxpZnlpbmcgRW5jb3VudGVyIiBRdWFsaWZ5aW5nRW5jb3VudGVyLAoJCVtDb25kaXRpb246ICJVcHBlciBSZXNwaXJhdG9yeSBJbmZlY3Rpb24iXSBVUkkKCQl3aGVyZSBVUkkuY2xpbmljYWxTdGF0dXMuY29kaW5nWzBdLmNvZGU9J2FjdGl2ZScKCQkJCQlhbmQgKEludGVydmFsW0ZISVJIZWxwZXJzLlRvRGF0ZVRpbWUoVVJJLm9uc2V0KSxGSElSSGVscGVycy5Ub0RhdGVUaW1lKFVSSS5hYmF0ZW1lbnQpXSBzdGFydHMgZHVyaW5nIFF1YWxpZnlpbmdFbmNvdW50ZXIucGVyaW9kCgkJCSAgICAgIG9yIEludGVydmFsW0ZISVJIZWxwZXJzLlRvRGF0ZVRpbWUoVVJJLm9uc2V0KSxGSElSSGVscGVycy5Ub0RhdGVUaW1lKFVSSS5hYmF0ZW1lbnQpXSBvdmVybGFwcyBiZWZvcmUgUXVhbGlmeWluZ0VuY291bnRlci5wZXJpb2QpCgpkZWZpbmUgIkVuY291bnRlciB3aXRoIENvbXBldGluZyBEaWFnbm9zaXMgZm9yIFVwcGVyIFJlc3BpcmF0b3J5IEluZmVjdGlvbiI6CgkoICJFbmNvdW50ZXIgd2l0aCBVcHBlciBSZXNwaXJhdG9yeSBJbmZlY3Rpb24iIEVuY291bnRlcldpdGhVUkkKCQkJd2l0aCBbQ29uZGl0aW9uOiAiQ29tcGV0aW5nIENvbmRpdGlvbnMgZm9yIFJlc3BpcmF0b3J5IENvbmRpdGlvbnMiXSBDb21wZXRpbmdDb25kaXRpb24KCQkJCXN1Y2ggdGhhdCBDb21wZXRpbmdDb25kaXRpb24uY2xpbmljYWxTdGF0dXMuY29kaW5nWzBdLmNvZGU9J2FjdGl2ZScKCQkJCQlhbmQgSW50ZXJ2YWxbRkhJUkhlbHBlcnMuVG9EYXRlVGltZShDb21wZXRpbmdDb25kaXRpb24ub25zZXQpLEZISVJIZWxwZXJzLlRvRGF0ZVRpbWUoQ29tcGV0aW5nQ29uZGl0aW9uLmFiYXRlbWVudCldIHN0YXJ0cyAzIGRheXMgb3IgbGVzcyBhZnRlciBkYXkgb2Ygc3RhcnQgb2YgRW5jb3VudGVyV2l0aFVSSS5RdWFsaWZ5aW5nRW5jb3VudGVyLnBlcmlvZAoJCQlyZXR1cm4gRW5jb3VudGVyV2l0aFVSSS5RdWFsaWZ5aW5nRW5jb3VudGVyCgkpCgpkZWZpbmUgIk51bWVyYXRvciI6CgkiRW5jb3VudGVyIHdpdGggVXBwZXIgUmVzcGlyYXRvcnkgSW5mZWN0aW9uIiBFbmNvdW50ZXJXaXRoVVJJCgkJd2l0aG91dCBbTWVkaWNhdGlvblJlcXVlc3Q6ICJBbnRpYmlvdGljIE1lZGljYXRpb25zIGZvciBQaGFyeW5naXRpcyJdIE9yZGVyZWRBbnRpYmlvdGljCgkJCXN1Y2ggdGhhdCBPcmRlcmVkQW50aWJpb3RpYy5pbnRlbnQ9J29yZGVyJwogICAgICAgIGFuZCBGSElSSGVscGVycy5Ub0RhdGVUaW1lKE9yZGVyZWRBbnRpYmlvdGljLmF1dGhvcmVkT24pIDMgZGF5cyBvciBsZXNzIG9uIG9yIGFmdGVyIHN0YXJ0IG9mIEVuY291bnRlcldpdGhVUkkuUXVhbGlmeWluZ0VuY291bnRlci5wZXJpb2QKCQlyZXR1cm4gRW5jb3VudGVyV2l0aFVSSS5RdWFsaWZ5aW5nRW5jb3VudGVyCgpkZWZpbmUgIkRlbm9taW5hdG9yIEV4Y2x1c2lvbnMiOgoJIkluIEhvc3BpY2UiCgkJdW5pb24gIkVuY291bnRlciB3aXRoIFVwcGVyIFJlc3BpcmF0b3J5IEluZmVjdGlvbiBhbmQgQW50aWJpb3RpY3MgQWN0aXZlIDMwIERheXMgUHJpb3IiCgkJdW5pb24gIkVuY291bnRlciB3aXRoIENvbXBldGluZyBEaWFnbm9zaXMgZm9yIFVwcGVyIFJlc3BpcmF0b3J5IEluZmVjdGlvbiIKCmRlZmluZSAiRW5jb3VudGVyIHdpdGggVXBwZXIgUmVzcGlyYXRvcnkgSW5mZWN0aW9uIGFuZCBBbnRpYmlvdGljcyBBY3RpdmUgMzAgRGF5cyBQcmlvciI6CgkiRW5jb3VudGVyIHdpdGggVXBwZXIgUmVzcGlyYXRvcnkgSW5mZWN0aW9uIiBFbmNvdW50ZXJXaXRoVVJJCgkJd2l0aCBbTWVkaWNhdGlvblN0YXRlbWVudDogIkFudGliaW90aWMgTWVkaWNhdGlvbnMgZm9yIFBoYXJ5bmdpdGlzIl0gQWN0aXZlQW50aWJpb3RpYwoJCQlzdWNoIHRoYXQgQWN0aXZlQW50aWJpb3RpYy5zdGF0dXM9J2FjdGl2ZScKICAgICAgICBhbmQgKEFjdGl2ZUFudGliaW90aWMuZWZmZWN0aXZlIGFzIFBlcmlvZCkgb3ZlcmxhcHMgSW50ZXJ2YWxbIlRvRGF0ZSIoKHN0YXJ0IG9mIEludGVydmFsW0ZISVJIZWxwZXJzLlRvRGF0ZVRpbWUoRW5jb3VudGVyV2l0aFVSSS5VUkkub25zZXQpLEZISVJIZWxwZXJzLlRvRGF0ZVRpbWUoRW5jb3VudGVyV2l0aFVSSS5VUkkuYWJhdGVtZW50KV0pLSAzMCBkYXlzKSwgc3RhcnQgb2YgSW50ZXJ2YWxbRkhJUkhlbHBlcnMuVG9EYXRlVGltZShFbmNvdW50ZXJXaXRoVVJJLlVSSS5vbnNldCksRkhJUkhlbHBlcnMuVG9EYXRlVGltZShFbmNvdW50ZXJXaXRoVVJJLlVSSS5hYmF0ZW1lbnQpXV0KCQlyZXR1cm4gRW5jb3VudGVyV2l0aFVSSS5RdWFsaWZ5aW5nRW5jb3VudGVyCgpkZWZpbmUgIkluaXRpYWwgUG9wdWxhdGlvbiI6CgkiRW5jb3VudGVyIHdpdGggVXBwZXIgUmVzcGlyYXRvcnkgSW5mZWN0aW9uIiBFbmNvdW50ZXJXaXRoVVJJCgkJd2hlcmUgQWdlSW5ZZWFyc0F0KHN0YXJ0IG9mICJNZWFzdXJlbWVudCBQZXJpb2QiKT49IDMKCQkJCWFuZCBBZ2VJblllYXJzQXQoc3RhcnQgb2YgIk1lYXN1cmVtZW50IFBlcmlvZCIpPCAxOAoJCXJldHVybiBFbmNvdW50ZXJXaXRoVVJJLlF1YWxpZnlpbmdFbmNvdW50ZXIKCmRlZmluZSAiSGFzIEhvc3BpY2UiOgoKICAgICAgICAgICAgZXhpc3RzICggW0VuY291bnRlcjogIkVuY291bnRlciBJbnBhdGllbnQiXSBEaXNjaGFyZ2VIb3NwaWNlCiAgICAgICAgICAgIAkJd2hlcmUgKERpc2NoYXJnZUhvc3BpY2Uuc3RhdHVzPSdpbi1wcm9ncmVzcycgb3IgRGlzY2hhcmdlSG9zcGljZS5zdGF0dXM9J2ZpbmlzaGVkJykKICAgICAgICAgICAgCQkgICAgYW5kICgoIEZISVJIZWxwZXJzLlRvQ29uY2VwdChEaXNjaGFyZ2VIb3NwaWNlLmhvc3BpdGFsaXphdGlvbi5kaXNjaGFyZ2VEaXNwb3NpdGlvbikgaW4gIkRpc2NoYXJnZSB0byBob21lIGZvciBob3NwaWNlIGNhcmUgKHByb2NlZHVyZSkiCiAgICAgICAgICAgIAkJCQlvciBGSElSSGVscGVycy5Ub0NvbmNlcHQoRGlzY2hhcmdlSG9zcGljZS5ob3NwaXRhbGl6YXRpb24uZGlzY2hhcmdlRGlzcG9zaXRpb24pIGluICJEaXNjaGFyZ2UgdG8gaGVhbHRoY2FyZSBmYWNpbGl0eSBmb3IgaG9zcGljZSBjYXJlIChwcm9jZWR1cmUpIikKICAgICAgICAgICAgCQkgICAgICAgICkKICAgICAgICAgICAgCQkJYW5kIERpc2NoYXJnZUhvc3BpY2UucGVyaW9kIGVuZHMgZHVyaW5nICJNZWFzdXJlbWVudCBQZXJpb2QiCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIAlvciBleGlzdHMgKCBbU2VydmljZVJlcXVlc3Q6ICJIb3NwaWNlIGNhcmUgYW1idWxhdG9yeSJdIEhvc3BpY2VPcmRlcgogICAgICAgICAgICAJCQl3aGVyZSBIb3NwaWNlT3JkZXIuaW50ZW50PSAnb3JkZXInCgkJCQlhbmQgRkhJUkhlbHBlcnMuVG9EYXRlVGltZShIb3NwaWNlT3JkZXIuYXV0aG9yZWRPbikgZHVyaW5nICJNZWFzdXJlbWVudCBQZXJpb2QiCiAgICAgICAgICAgIAkpCiAgICAgICAgICAgIAlvciBleGlzdHMgKCBbUHJvY2VkdXJlOiAiSG9zcGljZSBjYXJlIGFtYnVsYXRvcnkiXSBIb3NwaWNlUGVyZm9ybWVkCiAgICAgICAgICAgIAkJCXdoZXJlIChIb3NwaWNlUGVyZm9ybWVkLnBlcmZvcm1lZCBhcyBQZXJpb2QpIG92ZXJsYXBzICJNZWFzdXJlbWVudCBQZXJpb2QiCiAgICAgICAgICAgIAkpCgpkZWZpbmUgZnVuY3Rpb24gIlRvRGF0ZSIoVmFsdWUgRGF0ZVRpbWUgKToKCURhdGVUaW1lKHllYXIgZnJvbSBWYWx1ZSwgbW9udGggZnJvbSBWYWx1ZSwgZGF5IGZyb20gVmFsdWUsIDAsIDAsIDAsIDAsIHRpbWV6b25lIGZyb20gVmFsdWUpCg=="
      }
    ]
  }